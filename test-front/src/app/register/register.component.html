<!--  -->
<div class="main">
  <!-- Loading part -->
  <div
    *ngIf="registerSuccessMsg"
    class="text-center d-flex justify-content-center align-items-center"
    style="height: 50vh; font-size: 1.5em"
  >
    <div class="spinner-border text-primary me-4" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    Registering... Please Wait
  </div>

  <!-- Form -->
  <div *ngIf="!registerSuccessMsg">
    <div><h2>Student Registration Form</h2></div>
    <div class="grid">
      <!-- Left side -->
      <form [formGroup]="registerForm" action="" (ngSubmit)="register()">
        <div class="grid1">
          <div class="grid sub dual">
            <div>
              <div class="form-floating mb-3">
                <input
                  name="firstName"
                  formControlName="firstName"
                  type="text"
                  class="form-control"
                  id="floatingInput"
                  placeholder="First Name"
                />
                <label for="floatingInput">First Name</label>
              </div>
              <div
                class="text-danger text-center"
                *ngIf="
                  this.registerForm.get('firstName')?.errors &&
                  this.registerForm.get('firstName')?.touched
                "
              >
                Invalid First Name
              </div>
            </div>
            <div>
              <div class="form-floating mb-3">
                <input
                  name="lastName"
                  formControlName="lastName"
                  type="text"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Last Name"
                />
                <label for="floatingInput">Last Name</label>
              </div>
              <div
                class="text-danger text-center"
                *ngIf="
                  this.registerForm.get('lastName')?.errors &&
                  this.registerForm.get('lastName')?.touched
                "
              >
                Invalid Last Name
              </div>
            </div>
          </div>

          <div class="grid sub address">
            <div class="form-floating mb-3">
              <input
                name="address"
                formControlName="address"
                type="text"
                class="form-control"
                id="floatingInput"
                placeholder="Address"
              />
              <label for="floatingInput">Address</label>
            </div>
          </div>
          <div
            class="text-danger text-center"
            *ngIf="
              this.registerForm.get('address')?.errors &&
              this.registerForm.get('address')?.touched
            "
          >
            Invalid Address
          </div>
          <div class="grid sub dual">
            <div>
              <div class="form-floating mb-3">
                <input
                  name="email"
                  formControlName="email"
                  type="email"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Email"
                />
                <label for="floatingInput">Email </label>
              </div>
              <div
                class="text-danger text-center"
                *ngIf="
                  this.registerForm.get('email')?.errors &&
                  this.registerForm.get('email')?.touched
                "
              >
                Invalid Email
              </div>
            </div>
            <div>
              <div class="form-floating mb-3">
                <input
                  name="mobile"
                  formControlName="mobile"
                  type="text"
                  pattern="[0-9]*"
                  minlength="10"
                  maxlength="10"
                  class="form-control"
                  id="floatingInput"
                  placeholder="Last Name"
                />
                <label for="floatingInput">Mobile</label>
              </div>
              <div
                class="text-danger text-center"
                *ngIf="
                  this.registerForm.get('mobile')?.errors &&
                  this.registerForm.get('mobile')?.touched
                "
              >
                Invalid Mobile Number
              </div>
            </div>
          </div>

          <div class="grid sub dual">
            <div>
              <div class="form-floating mb-3">
                <input
                  name="dob"
                  formControlName="dob"
                  type="date"
                  class="form-control"
                  id="floatingInput"
                  placeholder="First Name"
                />
                <label for="floatingInput">Date of Birth </label>
              </div>
              <div
                class="text-danger text-center"
                *ngIf="
                  this.registerForm.get('dob')?.errors &&
                  this.registerForm.get('dob')?.touched
                "
              >
                Invalid Date of Birth
              </div>
            </div>
            <!--  -->
            <div>
              <div class="">
                <label for="" class="me-1">Gender</label>
                <div class="form-check form-check-inline">
                  <input
                    formControlName="gender"
                    name="gender"
                    class="form-check-input"
                    type="radio"
                    id="inlineRadio1"
                    value="male"
                    checked
                  />
                  <label class="form-check-label" for="inlineRadio1"
                    >Male</label
                  >
                </div>
                <div class="form-check form-check-inline">
                  <input
                    formControlName="gender"
                    class="form-check-input"
                    type="radio"
                    name="gender"
                    id="inlineRadio2"
                    value="female"
                  />
                  <label class="form-check-label" for="inlineRadio2"
                    >Female</label
                  >
                </div>
                <div class="form-check form-check-inline">
                  <input
                    formControlName="gender"
                    class="form-check-input"
                    type="radio"
                    name="gender"
                    id="inlineRadio3"
                    value="others"
                  />
                  <label class="form-check-label" for="inlineRadio3"
                    >Others</label
                  >
                </div>
              </div>
              <div
                class="text-danger text-center"
                *ngIf="
                  this.registerForm.get('gender')?.errors &&
                  this.registerForm.get('gender')?.touched
                "
              >
                Select a Gender
              </div>
            </div>
          </div>
          <!--  -->
          <div class="grid sub courses">
            <label for="courses">Course</label>
            <select
              id="course"
              formControlName="course"
              name="course"
              class="form-control"
              required
            >
              <option value="CSE">Computer Science and Engineering</option>
              <option value="ME">Mechanical Engineering</option>
              <option value="EEE">Electrical Engineering</option>
              <option value="ECE">
                Electronics and Communications Engineering
              </option>
              <option value="CE">Civil Engineering</option>
            </select>
          </div>
          <div
            class="text-danger text-center mb-3"
            *ngIf="
              this.registerForm.get('course')?.errors &&
              this.registerForm.get('course')?.touched
            "
          >
            Select a Course
          </div>

          <div class="final">
            <div>
              <button type="submit" class="btn btn-success">Register</button>
            </div>
            <div>
              <button
                type="button"
                class="btn btn-warning"
                (click)="clearAll()"
              >
                Clear
              </button>
            </div>
          </div>
          <!--  -->
        </div>
      </form>
      <!-- Right side -->
      <div class="grid2">
        <img
          src="https://www.sccnhub.com/images/Online-Student-Registration.png"
          alt=""
        />
        <div class="displaydiv">
          <a routerLink="" class="btn btn-primary">Back to Table</a>
        </div>
      </div>
    </div>
    <div>
      <!-- Insert Div containing button here, if needed -->
    </div>
  </div>
</div>
